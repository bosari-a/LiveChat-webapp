<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/chatroom.css" />
    <title>Global Chat</title>
  </head>
  <body id="body">
    <h1>Global Chat</h1>
    <h2>Choose a chatroom:</h2>
    <form class="add">
      <div class="chatrooms">
        <div class="drop-down">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="down-arrow"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              class="down-arrow"
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </div>
        <div class="rooms">
          <label class="checkbox general" for="general">
            <input
              name="room"
              class="checkbox-input"
              type="radio"
              id="general"
              value="#general"
            />#general
          </label>
          <label class="checkbox gaming" for="gaming">
            <input
              name="room"
              class="checkbox-input"
              type="radio"
              id="gaming"
              value="#gaming"
            />#gaming
          </label>
          <label class="checkbox music" for="music">
            <input
              name="room"
              class="checkbox-input"
              type="radio"
              id="music"
              value="#music"
            />#music
          </label>
          <label class="checkbox hobbies" for="hobbies">
            <input
              name="room"
              class="checkbox-input"
              type="radio"
              id="hobbies"
              value="#hobbies"
            />#hobbies
          </label>
        </div>
      </div>
      <h2>Chatroom is set to:</h2>
      <div class="user-input">
        <label class="your-msg" for="message">Your message:</label>
        <input class="message" type="text" name="message" />
        <input id="send-btn" class="btn-form" type="submit" value="Send" />
      </div>
    </form>
    <script>
      const checkboxes = document.querySelectorAll(".checkbox-input");
      const message = document.querySelector(".message");
      const updateName = document.querySelector(".updated-name");
      const rooms = document.querySelector(".rooms");
      rooms.addEventListener("click", (e) => {
        checkboxes.forEach((checkbox) => {
          if (checkbox.checked) {
            let bg = window.getComputedStyle(
              checkbox.parentElement
            ).backgroundColor;
            console.log(bg);
            bg !== "rgb(255, 255, 255)"
              ? (document.body.style.backgroundColor = bg)
              : console.log(null);
            checkbox.parentElement.classList.remove("checkbox");
            checkbox.parentElement.classList.add("checkbox-checked");
          } else {
            checkbox.parentElement.classList.add("checkbox");
            checkbox.parentElement.classList.remove("checkbox-checked");
          }
        });
      });
      function checkSelectedRoom(checkboxes) {
        for (let i = 0; i < checkboxes.length; i++) {
          if (checkboxes[i].checked) {
            return checkboxes[i].value;
          }
        }
      }
    </script>
  </body>
</html>
